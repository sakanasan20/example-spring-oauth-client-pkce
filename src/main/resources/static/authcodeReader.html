<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Auth Code Reader</title>
</head>
<body>
	<h1>Auth Code Reader</h1>
	<script type="text/javascript">
		let urlParams = new URLSearchParams(window.location.search)
		let authCode = urlParams.get('code')
		let state = urlParams.get('state')
		let error = urlParams.get('error')
		let errorDescription = urlParams.get('error_description')
		
		if (error) {
			window.alert('The following error took place: ' + error + '. Description of error: ' + errorDescription)
		} else {
			window.opener.postAuthorize(state, authCode)
		}
		
		window.close()
	</script>
</body>
</html>